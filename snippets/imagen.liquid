{% doc %}
  Renderiza una imagen responsiva que opcionalmente puede estar envuelta en un enlace.

  Cuando se proporcionan `width`, `height` y `crop`, la imagen se renderiza con
  una relaci칩n de aspecto fija.

  @param {image} image - La imagen a renderizar
  @param {string} [url] - URL de destino opcional
  @param {string} [class] - Clase(s) opcionales para el contenedor
  @param {number} [width] - Ancho m치ximo de la imagen
  @param {number} [height] - Alto m치ximo de la imagen
  @param {string} [crop] - Posici칩n del recorte

  @example
  {% render 'imagen', image: product.featured_image %}
  {% render 'imagen', image: product.featured_image, url: product.url %}
  {% render 'imagen',
    class: 'productoImagen',
    image: product.featured_image,
    url: product.url,
    width: 1200,
    height: 800,
    crop: 'center',
  %}
{% enddoc %}

{% liquid
  unless height
    assign width = width | default: image.width
  endunless

  if url
    assign contenedor = 'a'
  else
    assign contenedor = 'div'
  endif
%}

<{{ contenedor }}
  class='imagen{% if class %} {{ class }}{% endif %}'
  {% if url %}
    href='{{ url }}'
  {% endif %}
>
  {{ image | image_url: width: width, height: height, crop: crop | image_tag }}
</{{ contenedor }}>

{% stylesheet %}
  .imagen {
    display: block;
    position: relative;
    overflow: hidden;
    width: 100%;
    height: auto;
  }

  .imagen > img {
    width: 100%;
    height: auto;
  }
{% endstylesheet %}
