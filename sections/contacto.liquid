{% comment %}
  Sección de contacto con formulario que envía mensajes al dueño de la tienda
  Los mensajes se guardan en los "Nuevo contactos" de Shopify
{% endcomment %}

<div class='contenedorContacto'>
  <div class='contactoContenido'>
    {% if section.settings.titulo %}
      <h1 class='contactoTitulo'>{{ section.settings.titulo }}</h1>
    {% endif %}

    {% if section.settings.descripcion %}
      <p class='contactoDescripcion'>{{ section.settings.descripcion }}</p>
    {% endif %}

    <form method='POST' action='/contact' class='formularioContacto' accept-charset='UTF-8' novalidate>
      <input type='hidden' name='form_type' value='contact'>
      <input type='hidden' name='utf8' value='✓'>

      <div class='campoFormulario'>
        <label for='nombre'>{{ section.settings.label_nombre }}</label>
        <input
          type='text'
          id='nombre'
          name='contact[nombre]'
          placeholder='{{ section.settings.placeholder_nombre }}'
          required
          class='inputFormulario'
        >
      </div>

      <div class='campoFormulario'>
        <label for='email'>{{ section.settings.label_email }}</label>
        <input
          type='email'
          id='email'
          name='contact[email]'
          placeholder='{{ section.settings.placeholder_email }}'
          required
          class='inputFormulario'
        >
      </div>

      <div class='campoFormulario'>
        <label for='telefono'>{{ section.settings.label_telefono }}</label>
        <input
          type='tel'
          id='telefono'
          name='contact[telefono]'
          placeholder='{{ section.settings.placeholder_telefono }}'
          class='inputFormulario'
        >
      </div>

      <div class='campoFormulario'>
        <label for='asunto'>{{ section.settings.label_asunto }}</label>
        <input
          type='text'
          id='asunto'
          name='contact[asunto]'
          placeholder='{{ section.settings.placeholder_asunto }}'
          class='inputFormulario'
        >
      </div>

      <div class='campoFormulario'>
        <label for='mensaje'>{{ section.settings.label_mensaje }}</label>
        <textarea
          id='mensaje'
          name='contact[body]'
          placeholder='{{ section.settings.placeholder_mensaje }}'
          required
          rows='6'
          class='inputFormulario'
        ></textarea>
      </div>

      <button type='submit' class='botonDestacado botonDestacado--oscuro'>{{ section.settings.boton_texto }}</button>
    </form>

    {% if section.settings.mostrar_info %}
      <div class='contactoInfo'>
        {% if section.settings.email_display %}
          <div class='infoBloque'>
            <h3>Email</h3>
            <p>{{ section.settings.email_display }}</p>
          </div>
        {% endif %}

        {% if section.settings.telefono_display %}
          <div class='infoBloque'>
            <h3>Phone</h3>
            <p>{{ section.settings.telefono_display }}</p>
          </div>
        {% endif %}

        {% if section.settings.ubicacion %}
          <div class='infoBloque'>
            <h3>Location</h3>
            <p>{{ section.settings.ubicacion }}</p>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

<style>
  .contenedorContacto {
    padding: 2rem 1rem;
    width: 60%;
    margin: 0 auto;
  }

  @media (max-width: 1200px) {
    .contenedorContacto {
      width: 75%;
    }
  }

  @media (max-width: 768px) {
    .contenedorContacto {
      width: 90%;
      padding: 1.5rem 1rem;
    }
  }

  .contactoContenido {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .contactoTitulo {
    margin: 0;
    font-size: 2.5rem;
    font-weight: 700;
    text-align: left;
  }

  .contactoDescripcion {
    margin: 0;
    font-size: 1rem;
    line-height: 1.6;
    color: #666;
  }

  .formularioContacto {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .campoFormulario {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .campoFormulario label {
    font-weight: 600;
    font-size: 0.95rem;
  }

  .inputFormulario {
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: inherit;
    font-size: 1rem;
    transition: border-color 0.2s ease;
  }

  .inputFormulario:focus {
    outline: none;
    border-color: #000;
  }

  .inputFormulario:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
  }

  .contactoInfo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
  }

  .infoBloque h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
    font-weight: 600;
  }

  .infoBloque p {
    margin: 0;
    color: #666;
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .contactoTitulo {
      font-size: 2rem;
    }

    .contactoInfo {
      grid-template-columns: 1fr;
    }
  }
</style>

{% schema %}
{
  "name": "Contact",
  "settings": [
    {
      "type": "text",
      "id": "titulo",
      "label": "Title",
      "default": "Contact Us"
    },
    {
      "type": "richtext",
      "id": "descripcion",
      "label": "Description",
      "default": "<p>We'd love to hear from you. Fill out the form and we'll get back to you soon.</p>"
    },
    {
      "type": "text",
      "id": "label_nombre",
      "label": "Name Label",
      "default": "Name"
    },
    {
      "type": "text",
      "id": "placeholder_nombre",
      "label": "Name Placeholder",
      "default": "Your full name"
    },
    {
      "type": "text",
      "id": "label_email",
      "label": "Email Label",
      "default": "Email"
    },
    {
      "type": "text",
      "id": "placeholder_email",
      "label": "Email Placeholder",
      "default": "your@email.com"
    },
    {
      "type": "text",
      "id": "label_telefono",
      "label": "Phone Label",
      "default": "Phone (optional)"
    },
    {
      "type": "text",
      "id": "placeholder_telefono",
      "label": "Phone Placeholder",
      "default": "+1 (555) 123-4567"
    },
    {
      "type": "text",
      "id": "label_asunto",
      "label": "Subject Label",
      "default": "Subject"
    },
    {
      "type": "text",
      "id": "placeholder_asunto",
      "label": "Subject Placeholder",
      "default": "How can we help?"
    },
    {
      "type": "text",
      "id": "label_mensaje",
      "label": "Message Label",
      "default": "Message"
    },
    {
      "type": "text",
      "id": "placeholder_mensaje",
      "label": "Message Placeholder",
      "default": "Tell us your message..."
    },
    {
      "type": "text",
      "id": "boton_texto",
      "label": "Button Text",
      "default": "Send Message"
    },
    {
      "type": "checkbox",
      "id": "mostrar_info",
      "label": "Show Contact Information",
      "default": true
    },
    {
      "type": "text",
      "id": "email_display",
      "label": "Email to Display",
      "default": "contact@yourstore.com"
    },
    {
      "type": "text",
      "id": "telefono_display",
      "label": "Phone to Display",
      "default": "+1 (555) 123-4567"
    },
    {
      "type": "text",
      "id": "ubicacion",
      "label": "Location",
      "default": "Your City, Country"
    }
  ],
  "presets": [
    {
      "name": "Contact Form"
    }
  ]
}
{% endschema %}
